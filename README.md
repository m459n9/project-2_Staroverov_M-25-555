# üóÑÔ∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü–∞–º–∏

–ú–æ–¥—É–ª—å ¬´–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö¬ª —Ä–µ–∞–ª–∏–∑—É–µ—Ç –±–∞–∑–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç–∞–±–ª–∏—Ü–∞–º–∏ ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ, –ø—Ä–æ—Å–º–æ—Ç—Ä –∏ —É–¥–∞–ª–µ–Ω–∏–µ.
–í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –∏ –∏—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ —Ñ–∞–π–ª db_meta.json –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –ø–æ—Å—Ç–æ—è–Ω—Å—Ç–≤–∞ –¥–∞–Ω–Ω—ã—Ö.

## –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö 

### 1. –ü–µ—Ä–≤–∞—è –∏—Ç–µ—Ä–∞—Ü–∏—è (–±–∞–∑–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª)
[![asciicast](https://asciinema.org/a/FvyTFxGvWh5r0UsSwlG7Hjw5U.svg)](https://asciinema.org/a/FvyTFxGvWh5r0UsSwlG7Hjw5U)
### 2. –í—Ç–æ—Ä–∞—è –∏—Ç–µ—Ä–∞—Ü–∏—è (—Å –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∞–º–∏ –∏ –Ω–æ–≤—ã–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏)
[![asciicast](https://asciinema.org/a/joDWawHd3JoFIT7TBOlKg9Sus.svg)](https://asciinema.org/a/joDWawHd3JoFIT7TBOlKg9Sus)

## –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö

int, str, bool

## CRUD-–æ–ø–µ—Ä–∞—Ü–∏–∏

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----------|
| `insert into <–∏–º—è_—Ç–∞–±–ª–∏—Ü—ã> values (<–∑–Ω–∞—á–µ–Ω–∏–µ1>, <–∑–Ω–∞—á–µ–Ω–∏–µ2>, ...)` | –î–æ–±–∞–≤–ª—è–µ—Ç –∑–∞–ø–∏—Å—å –≤ —Ç–∞–±–ª–∏—Ü—É (ID –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏). |
| `select from <–∏–º—è_—Ç–∞–±–ª–∏—Ü—ã>` | –í—ã–≤–æ–¥–∏—Ç –≤—Å–µ –∑–∞–ø–∏—Å–∏ —Ç–∞–±–ª–∏—Ü—ã. |
| `select from <–∏–º—è_—Ç–∞–±–ª–∏—Ü—ã> where <—Å—Ç–æ–ª–±–µ—Ü> = <–∑–Ω–∞—á–µ–Ω–∏–µ>` | –§–∏–ª—å—Ç—Ä—É–µ—Ç –∑–∞–ø–∏—Å–∏ –ø–æ —É—Å–ª–æ–≤–∏—é. |
| `update <–∏–º—è_—Ç–∞–±–ª–∏—Ü—ã> set <—Å—Ç–æ–ª–±–µ—Ü> = <–∑–Ω–∞—á–µ–Ω–∏–µ> where <—Å—Ç–æ–ª–±–µ—Ü> = <–∑–Ω–∞—á–µ–Ω–∏–µ>` | –û–±–Ω–æ–≤–ª—è–µ—Ç –∑–∞–ø–∏—Å–∏. |
| `delete from <–∏–º—è_—Ç–∞–±–ª–∏—Ü—ã> where <—Å—Ç–æ–ª–±–µ—Ü> = <–∑–Ω–∞—á–µ–Ω–∏–µ>` | –£–¥–∞–ª—è–µ—Ç –∑–∞–ø–∏—Å–∏. |
| `info <–∏–º—è_—Ç–∞–±–ª–∏—Ü—ã>` | –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ö–µ–º—É —Ç–∞–±–ª–∏—Ü—ã –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π. |
| `exit` | –í—ã—Ö–æ–¥ –∏–∑ –ø—Ä–æ–≥—Ä–∞–º–º—ã. |

### –ü—Ä–∏–º–µ—Ä:

```bash
>>> create table users name:str age:int deleted:bool
>>> insert into users values ("Sergei", 28, true)
–ó–∞–ø–∏—Å—å —Å ID=1 —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ —Ç–∞–±–ª–∏—Ü—É "users".

>>> select * from users
+----+--------+-----+-----------+
| ID | name   | age | is_active |
+----+--------+-----+-----------+
| 1  | Sergei | 28  | True      |
+----+--------+-----+-----------+

>>> update users set age = 29 where name = "Sergei"
–û–±–Ω–æ–≤–ª–µ–Ω–æ –∑–∞–ø–∏—Å–µ–π: 1

>>> delete from users where ID = 1
–£–¥–∞–ª–µ–Ω–æ –∑–∞–ø–∏—Å–µ–π: 1

>>> info users
–¢–∞–±–ª–∏—Ü–∞: users
–°—Ç–æ–ª–±—Ü—ã: ID:int, name:str, age:int, is_active:bool
–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π: 0
```

### –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

–ù–∞ —Ñ–∏–Ω–∞–ª—å–Ω–æ–º —ç—Ç–∞–ø–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã –∏ –º–µ—Ö–∞–Ω–∏–∑–º—ã, –ø–æ–≤—ã—à–∞—é—â–∏–µ –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å –∏ —É–¥–æ–±—Å—Ç–≤–æ —Ä–∞–±–æ—Ç—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö.

1. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

–í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö –æ–±—ë—Ä–Ω—É—Ç—ã –≤ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä @handle_db_errors. –û–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏—è (KeyError, ValueError, FileNotFoundError) –∏ –≤—ã–≤–æ–¥–∏—Ç –ø–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –±–µ–∑ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è —Ä–∞–±–æ—Ç—ã –ø—Ä–æ–≥—Ä–∞–º–º—ã.
–ü—Ä–∏–º–µ—Ä:
–û—à–∏–±–∫–∞: –¢–∞–±–ª–∏—Ü–∞ "orders" –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç.

2. –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ–ø–∞—Å–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

–î–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è —Å–ª—É—á–∞–π–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä @confirm_action. –ü–µ—Ä–µ–¥ —É–¥–∞–ª–µ–Ω–∏–µ–º —Ç–∞–±–ª–∏—Ü –∏–ª–∏ –∑–∞–ø–∏—Å–µ–π –ø—Ä–æ–≥—Ä–∞–º–º–∞ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ:
–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—å "—É–¥–∞–ª–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã"? [y/n]:
–ï—Å–ª–∏ –≤–≤–µ–¥–µ–Ω–æ n, –æ–ø–µ—Ä–∞—Ü–∏—è –æ—Ç–º–µ–Ω—è–µ—Ç—Å—è.

3. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

–î–µ–∫–æ—Ä–∞—Ç–æ—Ä @log_time –∏–∑–º–µ—Ä—è–µ—Ç –∏ –≤—ã–≤–æ–¥–∏—Ç –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è ¬´—Ç—è–∂—ë–ª—ã—Ö¬ª –æ–ø–µ—Ä–∞—Ü–∏–π ‚Äî –Ω–∞–ø—Ä–∏–º–µ—Ä, –≤—Å—Ç–∞–≤–∫–∏ (insert) –∏ –≤—ã–±–æ—Ä–∫–∏ (select):
–§—É–Ω–∫—Ü–∏—è select –≤—ã–ø–æ–ª–Ω–∏–ª–∞—Å—å –∑–∞ 0.023 —Å–µ–∫—É–Ω–¥.

4. –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—ã–±–æ—Ä–æ–∫

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –∑–∞–º—ã–∫–∞–Ω–∏–µ create_cacher(), –∫—ç—à–∏—Ä—É—é—â–µ–µ –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã select. –ï—Å–ª–∏ –∑–∞–ø—Ä–æ—Å —É–∂–µ –≤—ã–ø–æ–ª–Ω—è–ª—Å—è —Ä–∞–Ω–µ–µ, —Ä–µ–∑—É–ª—å—Ç–∞—Ç –±–µ—Ä—ë—Ç—Å—è –∏–∑ –∫—ç—à–∞:
[cache hit] –†–µ–∑—É–ª—å—Ç–∞—Ç –¥–ª—è 'users:{'age': '28'}' –Ω–∞–π–¥–µ–Ω –≤ –∫—ç—à–µ.
